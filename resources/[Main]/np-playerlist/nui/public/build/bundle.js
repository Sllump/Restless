var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function f(){return u(" ")}function d(){return u("")}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let $;function g(t){$=t}function m(){if(!$)throw new Error("Function called outside component initialization");return $}const x=[],y=[],b=[],w=[],k=Promise.resolve();let v=!1;function _(t){b.push(t)}const P=new Set;let E=0;function T(){const t=$;do{for(;E<x.length;){const t=x[E];E++,g(t),S(t.$$)}for(g(null),x.length=0,E=0;y.length;)y.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];P.has(e)||(P.add(e),e())}b.length=0}while(x.length);for(;w.length;)w.pop()();v=!1,P.clear(),g(t)}function S(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const C=new Set;let j;function N(){j={r:0,c:[],p:j}}function A(){j.r||r(j.c),j=j.p}function I(t,e){t&&t.i&&(C.delete(t),t.i(e))}function M(t,e,n,r){if(t&&t.o){if(C.has(t))return;C.add(t),j.c.push((()=>{C.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function O(t,e){const n=e.token={};function r(t,r,o,c){if(e.token!==n)return;e.resolved=c;let l=e.ctx;void 0!==o&&(l=l.slice(),l[o]=c);const a=t&&(e.current=t)(l);let s=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(N(),M(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),A())})):e.block.d(1),a.c(),I(a,1),a.m(e.mount(),e.anchor),s=!0),e.block=a,e.blocks&&(e.blocks[r]=a),s&&T()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=m();if(t.then((t=>{g(n),r(e.then,1,e.value,t),g(null)}),(t=>{if(g(n),r(e.catch,2,e.error,t),g(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var o}function B(t){t&&t.c()}function F(t,n,c,l){const{fragment:a,on_mount:s,on_destroy:i,after_update:u}=t.$$;a&&a.m(n,c),l||_((()=>{const n=s.map(e).filter(o);i?i.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(_)}function L(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function z(t,e){-1===t.$$.dirty[0]&&(x.push(t),v||(v=!0,k.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function D(e,o,c,l,a,i,u,f=[-1]){const d=$;g(e);const p=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||d.$$.root};u&&u(p.root);let h=!1;if(p.ctx=c?c(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),h&&z(e,t)),n})):[],p.update(),h=!0,r(p.before_update),p.fragment=!!l&&l(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(s)}else p.fragment&&p.fragment.c();o.intro&&I(e.$$.fragment),F(e,o.target,o.anchor,o.customElement),T()}g(d)}class q{$destroy(){L(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function R(t,e,n){const r=t.slice();return r[2]=e[n],r[4]=n,r}function U(t){let e,n,r,o=t[5].message+"";return{c(){e=i("div"),n=u("Error: "),r=u(o)},m(t,o){a(t,e,o),l(e,n),l(e,r)},p(t,e){2&e&&o!==(o=t[5].message+"")&&h(r,o)},d(t){t&&s(e)}}}function W(t){let e,n,r=t[1],o=[];for(let e=0;e<r.length;e+=1)o[e]=H(R(t,r,e));let c=null;return r.length||(c=G()),{c(){e=i("div"),n=i("div");for(let t=0;t<o.length;t+=1)o[t].c();c&&c.c(),p(e,"class","max-h-[70%] overflow-auto noscrollbar"),p(e,"id","list")},m(t,r){a(t,e,r),l(e,n);for(let t=0;t<o.length;t+=1)o[t].m(n,null);c&&c.m(n,null)},p(t,e){if(3&e){let l;for(r=t[1],l=0;l<r.length;l+=1){const c=R(t,r,l);o[l]?o[l].p(c,e):(o[l]=H(c),o[l].c(),o[l].m(n,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length,r.length?c&&(c.d(1),c=null):c||(c=G(),c.c(),c.m(n,null))}},d(t){t&&s(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(o,t),c&&c.d()}}}function G(t){let e;return{c(){e=i("div"),e.textContent="No Players",p(e,"class","bg-black/50 text-white pl-2 text-center")},m(t,n){a(t,e,n)},d(t){t&&s(e)}}}function H(t){let e,n,r,o,c,d,$,g=t[2].src+"",m=t[2].steamid+"";return{c(){e=i("div"),n=u("["),r=u(g),o=u("] "),c=u(m),d=f(),p(e,"class",$="hover:text-gray-800 hover:bg-white/50 min-h-[25px] pl-2 bg-black/50 text-white "+(t[0]===t[4]?"bg-white text-black":""))},m(t,s){a(t,e,s),l(e,n),l(e,r),l(e,o),l(e,c),l(e,d)},p(t,n){2&n&&g!==(g=t[2].src+"")&&h(r,g),2&n&&m!==(m=t[2].steamid+"")&&h(c,m),1&n&&$!==($="hover:text-gray-800 hover:bg-white/50 min-h-[25px] pl-2 bg-black/50 text-white "+(t[0]===t[4]?"bg-white text-black":""))&&p(e,"class",$)},d(t){t&&s(e)}}}function J(e){let n;return{c(){n=i("div"),n.textContent="Waiting for data",p(n,"class","bg-black/50 text-white pl-2")},m(t,e){a(t,n,e)},p:t,d(t){t&&s(n)}}}function K(e){let n,r,o={ctx:e,current:null,token:null,hasCatch:!0,pending:J,then:W,catch:U,value:1,error:5};return O(r=e[1],o),{c(){n=d(),o.block.c()},m(t,e){a(t,n,e),o.block.m(t,o.anchor=e),o.mount=()=>n.parentNode,o.anchor=n},p(t,[n]){e=t,o.ctx=e,2&n&&r!==(r=e[1])&&O(r,o)||function(t,e,n){const r=e.slice(),{resolved:o}=t;t.current===t.then&&(r[t.value]=o),t.current===t.catch&&(r[t.error]=o),t.block.p(r,n)}(o,e,n)},i:t,o:t,d(t){t&&s(n),o.block.d(t),o.token=null,o=null}}}function Q(t,e,n){let{players:r}=e,{selectedPlayer:o=0}=e;return t.$$set=t=>{"players"in t&&n(1,r=t.players),"selectedPlayer"in t&&n(0,o=t.selectedPlayer)},[o,r]}class V extends q{constructor(t){super(),D(this,t,Q,K,c,{players:1,selectedPlayer:0})}}function X(e){let n,r,o,c,f;return{c(){n=i("div"),r=i("span"),o=u(e[0]),c=i("span"),f=u(e[1]),p(c,"class","absolute right-2"),p(n,"class","sticky text-white bg-black pl-2")},m(t,e){a(t,n,e),l(n,r),l(r,o),l(n,c),l(c,f)},p(t,[e]){1&e&&h(o,t[0]),2&e&&h(f,t[1])},i:t,o:t,d(t){t&&s(n)}}}function Y(t,e,n){let{ltext:r="SubTitleText"}=e,{rtext:o=""}=e;return t.$$set=t=>{"ltext"in t&&n(0,r=t.ltext),"rtext"in t&&n(1,o=t.rtext)},[r,o]}class Z extends q{constructor(t){super(),D(this,t,Y,X,c,{ltext:0,rtext:1})}}function tt(e){let n,r,o;return{c(){n=i("div"),r=i("div"),o=u(e[0]),p(r,"class","text-center font-housescript text-6xl text-[#87CEFA] bg-black/60 pt-2"),p(n,"class","z-10 sticky text-white")},m(t,e){a(t,n,e),l(n,r),l(r,o)},p(t,[e]){1&e&&h(o,t[0])},i:t,o:t,d(t){t&&s(n)}}}function et(t,e,n){let{text:r="TitleBar"}=e;return t.$$set=t=>{"text"in t&&n(0,r=t.text)},[r]}class nt extends q{constructor(t){super(),D(this,t,et,tt,c,{text:0})}}function rt(t){let e,n,r,o,c,u,d,h;const $=[ct,ot],g=[];function m(t,e){return"recentplayers"===t[6]?0:1}return u=m(t),d=g[u]=$[u](t),{c(){e=i("main"),n=i("div"),r=i("div"),o=f(),c=i("div"),d.c(),p(r,"class","row-span-4 col-span-5"),p(c,"class","row-span-4 mt-10 col-span-2 mr-20 min-w-fit"),p(n,"class","w-screen h-screen grid grid-cols-7 grid-rows-4 select-none font-chalet")},m(t,s){a(t,e,s),l(e,n),l(n,r),l(n,o),l(n,c),g[u].m(c,null),h=!0},p(t,e){let n=u;u=m(t),u===n?g[u].p(t,e):(N(),M(g[n],1,1,(()=>{g[n]=null})),A(),d=g[u],d?d.p(t,e):(d=g[u]=$[u](t),d.c()),I(d,1),d.m(c,null))},i(t){h||(I(d),h=!0)},o(t){M(d),h=!1},d(t){t&&s(e),g[u].d()}}}function ot(t){let e,n,r,o,c,l,i,u;return e=new nt({props:{text:"Player List"}}),r=new Z({props:{ltext:"Total:",rtext:t[2]}}),c=new Z({props:{ltext:"Total In Scope:",rtext:t[7]}}),i=new V({props:{players:t[1],selectedPlayer:t[5]}}),{c(){B(e.$$.fragment),n=f(),B(r.$$.fragment),o=f(),B(c.$$.fragment),l=f(),B(i.$$.fragment)},m(t,s){F(e,t,s),a(t,n,s),F(r,t,s),a(t,o,s),F(c,t,s),a(t,l,s),F(i,t,s),u=!0},p(t,e){const n={};4&e&&(n.rtext=t[2]),r.$set(n);const o={};128&e&&(o.rtext=t[7]),c.$set(o);const l={};2&e&&(l.players=t[1]),32&e&&(l.selectedPlayer=t[5]),i.$set(l)},i(t){u||(I(e.$$.fragment,t),I(r.$$.fragment,t),I(c.$$.fragment,t),I(i.$$.fragment,t),u=!0)},o(t){M(e.$$.fragment,t),M(r.$$.fragment,t),M(c.$$.fragment,t),M(i.$$.fragment,t),u=!1},d(t){L(e,t),t&&s(n),L(r,t),t&&s(o),L(c,t),t&&s(l),L(i,t)}}}function ct(t){let e,n,r,o,c,l,i,u;return e=new nt({props:{text:"Recent D/C's"}}),r=new Z({props:{ltext:"Total:",rtext:t[4]}}),c=new Z({props:{ltext:"Total In Scope:",rtext:t[7]}}),i=new V({props:{players:t[3],selectedPlayer:t[5]}}),{c(){B(e.$$.fragment),n=f(),B(r.$$.fragment),o=f(),B(c.$$.fragment),l=f(),B(i.$$.fragment)},m(t,s){F(e,t,s),a(t,n,s),F(r,t,s),a(t,o,s),F(c,t,s),a(t,l,s),F(i,t,s),u=!0},p(t,e){const n={};16&e&&(n.rtext=t[4]),r.$set(n);const o={};128&e&&(o.rtext=t[7]),c.$set(o);const l={};8&e&&(l.players=t[3]),32&e&&(l.selectedPlayer=t[5]),i.$set(l)},i(t){u||(I(e.$$.fragment,t),I(r.$$.fragment,t),I(c.$$.fragment,t),I(i.$$.fragment,t),u=!0)},o(t){M(e.$$.fragment,t),M(r.$$.fragment,t),M(c.$$.fragment,t),M(i.$$.fragment,t),u=!1},d(t){L(e,t),t&&s(n),L(r,t),t&&s(o),L(c,t),t&&s(l),L(i,t)}}}function lt(t){let e,n,r=t[0]&&rt(t);return{c(){r&&r.c(),e=d()},m(t,o){r&&r.m(t,o),a(t,e,o),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&I(r,1)):(r=rt(t),r.c(),I(r,1),r.m(e.parentNode,e)):r&&(N(),M(r,1,1,(()=>{r=null})),A())},i(t){n||(I(r),n=!0)},o(t){M(r),n=!1},d(t){r&&r.d(t),t&&s(e)}}}function at(t,e,n){let r,o=!1,c=[],l="",a=[],s="",i=0,u=0,f="players",d="";var p;async function h(){n(5,u=0);const t=await async function(){const t=await fetch("https://np-playerlist/getPlayerData",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"}});let e=await t.json();return t.ok?e:null}();n(1,c=t.players||[]),n(3,a=t.recentPlayers||[]),n(6,f="players"),i=c.length||0,n(2,l=c.length.toString()),n(7,d=t.playersInScope.toString())}p=()=>{o&&(r=document.getElementById("list"),r.scrollTo({top:25*Math.max(u-1,0),behavior:"auto"}))},m().$$.after_update.push(p);const $=async t=>{"show"===t.data.action&&(await h(),n(0,o=!0)),"hide"===t.data.action&&n(0,o=!1),"downarrow"===t.data.action&&(n(5,u+=1),u>i-1&&n(5,u=0)),"uparrow"===t.data.action&&(n(5,u-=1),u<0&&n(5,u=i-1)),"leftarrow"!==t.data.action&&"rightarrow"!==t.data.action||(n(5,u=0),n(6,f="players"===f?"recentplayers":"players"),"players"===f?(n(2,l=c.length.toString()),i=c.length):(n(4,s=a.length.toString()),i=a.length)),"pgdown"===t.data.action&&n(5,u=Math.min(u+30,i-1)),"pgup"===t.data.action&&n(5,u=Math.max(u-30,0))};return function(t){m().$$.on_mount.push(t)}((()=>{window.addEventListener("message",$)})),function(t){m().$$.on_destroy.push(t)}((()=>{window.removeEventListener("message",$)})),[o,c,l,a,s,u,f,d]}return new class extends q{constructor(t){super(),D(this,t,at,lt,c,{})}}({target:document.body})}();
